<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#2C5F47" />
  <title>MC Premium – Mental Commons</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <!-- Styles principali del sito -->
  <link rel="stylesheet" href="/style.css?v=2025072702" />
  
  <!-- Override minimal dark per Premium -->
  <style>
    body.premium-page {
      background: #0d0d0d;
      color: #eee;
    }
    .premium-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 4rem 1rem 6rem;
      text-align: center;
    }
    .premium-container h1 {
      font-size: clamp(2rem, 4vw, 2.75rem);
      font-weight: 600;
      margin-bottom: 2rem;
      color: #fff;
    }
    /* Toggle fatturazione */
    .billing-toggle-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 3rem;
      font-weight: 500;
      font-size: 0.95rem;
      color: #ccc;
    }
    .billing-toggle-wrapper .discount {
      color: var(--color-accent, #d4a574);
      font-size: 0.8rem;
      margin-left: 0.25rem;
    }
    /* Custom switch */
    .switch {
      position: relative;
      width: 56px;
      height: 28px;
      display: inline-block;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #444;
      border-radius: 34px;
      transition: background 0.2s ease;
    }
    .slider::before {
      content: "";
      position: absolute;
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 3px;
      background: #fff;
      border-radius: 50%;
      transition: transform 0.2s ease;
    }
    .switch input:checked + .slider {
      background: var(--color-primary, #2c5f47);
    }
    .switch input:checked + .slider::before {
      transform: translateX(26px);
    }

    /* Cards */
    .plans {
      display: flex;
      gap: 2.5rem;
      justify-content: space-between;
      flex-wrap: nowrap;
      margin-bottom: 4rem;
    }
    .plan-card {
      background: #111;
      border: 1px solid #222;
      border-radius: 1rem;
      padding: 2rem;
      flex: 1 1 calc(33.333% - 1.5rem);
      max-width: 420px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      text-align: center;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .plan-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }
    .plan-card h2 {
      font-size: 1.4rem;
      font-weight: 600;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .plan-card .price {
      font-size: 2.5rem;
      font-weight: 700;
      margin: 0.75rem 0 1.5rem;
      color: #fff;
    }
    .features {
      list-style: none;
      padding: 0;
      margin: 0 0 2rem;
      width: 100%;
      text-align: left;
      line-height: 1.6;
      font-size: 0.95rem;
    }
    .features li {
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .features li::before {
      content: "✔";
      color: var(--color-primary, #2c5f47);
      font-weight: 600;
    }
    .features li.not-included::before {
      content: "✖";
      color: #666;
    }
    .features li.not-included {
      color: #666;
    }
    .cta-button {
      display: block;
      width: 100%;
      padding: 0.85rem 1.25rem;
      background: var(--color-primary, #2c5f47);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.2s ease;
    }
    .cta-button:hover:not(:disabled) {
      background: #1e4635;
      transform: translateY(-2px);
    }
    .cta-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* FAQ */
    .faq h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #fff;
    }
    .accordion details {
      background: #111;
      border: 1px solid #222;
      border-radius: 0.75rem;
      margin-bottom: 1rem;
      padding: 1rem 1.25rem;
    }
    .accordion summary {
      cursor: pointer;
      font-weight: 500;
      color: #eee;
      outline: none;
    }
    .accordion p {
      margin-top: 0.75rem;
      color: #ccc;
      line-height: 1.6;
    }

    @media (max-width: 768px) {
      .plans { gap: 1.5rem; }
      .plans { flex-direction: column; }
      .plan-card { flex: 1 1 100%; width: 100%; margin-bottom: 2rem; }
      .plans {
        flex-direction: column;
        gap: 1.5rem;
      }
    }
    /* --------------------------------------
       Override stile brand Mental Commons
    --------------------------------------- */
    :root {
      --premium-card-bg: #F1F8F4;
      --premium-card-border: rgba(44, 95, 71, 0.12);
      --premium-card-shadow: 0 4px 10px rgba(44, 95, 71, 0.08);
      --premium-toggle-track: #CDE2D9;
      --premium-toggle-knob: #FFFFFF;
      --premium-muted: #6B7A75;
    }
    body.premium-page {
      background: var(--color-page-bg);
      color: var(--color-text-body);
    }
    .plan-card {
      background: var(--premium-card-bg);
      border: 1px solid var(--premium-card-border);
      box-shadow: var(--premium-card-shadow);
    }
    .plan-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--premium-card-shadow);
    }
    .plan-card h2,
    .plan-card .price {
      color: var(--color-text-heading);
    }
    .billing-toggle-wrapper {
      color: var(--premium-muted);
    }
    .slider {
      background: var(--premium-toggle-track);
    }
    .switch input:checked + .slider {
      background: var(--color-primary);
    }
    .accordion details {
      background: var(--premium-card-bg);
      border: 1px solid var(--premium-card-border);
    }
    .accordion summary {
      color: var(--color-text-heading);
    }
    .accordion p {
      color: var(--color-text-body);
    }

    /* Sottotitolo card */
    .plan-card .subtitle {
      font-size: 0.9rem;
      color: var(--premium-muted);
      margin-bottom: 1rem;
      line-height: 1.4;
    }
    /* -------------------------------------- */
  </style>

  <!-- Variabili pubbliche -->
  <script type="module" src="/api/env.js"></script>
</head>
<body class="premium-page">
  <!-- Header -->
  <header class="top-navigation-container">
    <a href="index.html" class="nav-logo"><img src="/logo.svg" alt="Mental Commons" /></a>
    <nav class="nav-main">
      <a href="index.html" data-i18n="nav.home"></a>
      <a href="come-funziona.html" data-i18n="nav.how_it_works"></a>
      <a href="mc-per-le-scuole.html" data-i18n="nav.schools"></a>
      <a href="premium.html" data-i18n="nav.premium"></a>
    </nav>
    <div class="nav-actions">
      <a href="dashboard.html" id="nav-dashboard" style="display: none;" data-i18n="nav.dashboard"></a>
      <a href="admin.html" id="nav-admin" style="display: none;" data-i18n="nav.admin"></a>
      <a href="login.html" id="nav-login" data-i18n="nav.login"></a>
      <a href="profile.html" id="nav-profile" class="nav-profile-btn" style="display: none;" title="Gestione Profilo" aria-label="Gestione Profilo">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </a>
    </div>
    
  </header>

  <main class="premium-container">
    <h1 data-i18n="pricing.hero.title"></h1>

    <!-- Toggle fatturazione -->
    <div class="billing-toggle-wrapper">
      <span data-i18n="pricing.billing.monthly"></span>
      <label class="switch">
        <input type="checkbox" id="billing-toggle" data-i18n-attr="aria-label" data-i18n="pricing.billing.annual" />
        <span class="slider"></span>
      </label>
      <span><span data-i18n="pricing.billing.annual"></span> <span class="discount" data-i18n="pricing.billing.discount"></span></span>
    </div>

    <!-- Cards -->
    <div class="plans">
      <!-- Piano Hobby -->
      <div class="plan-card hobby">
        <h2 data-i18n="pricing.plans.hobby.title"></h2>
        <p class="price" data-i18n="pricing.plans.hobby.price"></p>
        <ul class="features">
          <li data-i18n="pricing.plans.hobby.features.unlimited_ucme"></li>
          <li data-i18n="pricing.plans.hobby.features.base_access"></li>
          <li class="not-included" data-i18n="pricing.plans.hobby.features.no_history"></li>
          <li class="not-included" data-i18n="pricing.plans.hobby.features.no_chat"></li>

        </ul>
        <button class="cta-button" disabled data-i18n="pricing.plans.hobby.cta"></button>
      </div>

      <!-- Piano Premium -->
      <div class="plan-card premium">
        <h2 data-i18n="pricing.plans.premium.title"></h2>
        <p class="price"><span id="premium-price">4,99€</span> <span id="premium-price-period">/mese</span></p>
        <ul class="features">
          <li data-i18n="pricing.plans.premium.features.unlimited_chats"></li>
          <li data-i18n="pricing.plans.premium.features.priority"></li>
          <li data-i18n="pricing.plans.premium.features.full_history"></li>
          <li data-i18n="pricing.plans.premium.features.future"></li>
          <li data-i18n="pricing.plans.premium.features.tests"></li>

        </ul>
        <button id="btn-premium-monthly" class="cta-button" data-i18n="pricing.plans.premium.cta.monthly"></button>
        <button id="btn-premium-annual" class="cta-button" style="display: none;" data-i18n="pricing.plans.premium.cta.annual"></button>
      </div>

      <!-- MC@School -->
      <div class="plan-card school">
        <h2 data-i18n="pricing.plans.school.title"></h2>
        <p class="price" data-i18n="pricing.plans.school.price"></p>
        <p class="subtitle" data-i18n="pricing.plans.school.subtitle"></p>
        <ul class="features">
          <li data-i18n="pricing.plans.school.features.all_premium"></li>
          <li data-i18n="pricing.plans.school.features.school_dashboard"></li>
          <li data-i18n="pricing.plans.school.features.stats"></li>
          <li data-i18n="pricing.plans.school.features.guided"></li>
          <li data-i18n="pricing.plans.school.features.support"></li>
          <li data-i18n="pricing.plans.school.features.flex"></li>
          <li data-i18n="pricing.plans.school.features.custom"></li>
        </ul>
        <a href="mailto:school@mentalcommons.xyz?subject=Richiesta%20MC@School" class="cta-button" data-i18n="common.learn_more"></a>
      </div>
    </div>

    <!-- FAQ -->
    <section class="faq">
      <h2 data-i18n="pricing.faq.title"></h2>
      <div class="accordion">
        <details>
          <summary data-i18n="pricing.faq.q1.title"></summary>
          <p data-i18n="pricing.faq.q1.body"></p>
        </details>
        <details>
          <summary data-i18n="pricing.faq.q2.title"></summary>
          <p data-i18n="pricing.faq.q2.body"></p>
        </details>
        <details>
          <summary data-i18n="pricing.faq.q3.title"></summary>
          <p data-i18n="pricing.faq.q3.body"></p>
        </details>
        <details>
          <summary data-i18n="pricing.faq.q4.title"></summary>
          <p data-i18n="pricing.faq.q4.body"></p>
        </details>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-inner">
      <small class="footer-brand">© Mental Commons</small>
      <nav class="footer-nav">
        <a href="/come-funziona.html" data-i18n-link data-i18n="nav.how_it_works"></a>
        <a href="/mc-per-le-scuole.html" data-i18n-link data-i18n="nav.schools"></a>
        <a href="/premium.html" data-i18n-link data-i18n="nav.premium"></a>
      </nav>
      <div class="footer-lang" id="lang-toggle">
        <button type="button" data-lang="it" class="lang-btn" aria-pressed="false">IT</button>
        <span class="divider">/</span>
        <button type="button" data-lang="en" class="lang-btn" aria-pressed="false">EN</button>
      </div>
    </div>
  </footer>

  <!-- Stripe & interazioni -->
  <script type="module" src="/ui/premium.js"></script>
  <!-- i18n runtime per pagine statiche -->
  <script defer src="/scripts/i18n.js"></script>
  <script defer src="/scripts/header-menu.js"></script>
  <script type="module" src="/src/ui/lang-toggle.js"></script>
  <script>
    /* Gestione toggle mensile/annuale */
    document.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('billing-toggle');
      const priceEl = document.getElementById('premium-price');
      const periodEl = document.getElementById('premium-price-period');
      const btnMonthly = document.getElementById('btn-premium-monthly');
      const btnAnnual = document.getElementById('btn-premium-annual');

      function updateUI() {
        const annual = toggle.checked;
        priceEl.textContent = annual ? '39€' : '4,99€';
        periodEl.textContent = annual ? '/anno' : '/mese';
        btnMonthly.style.display = annual ? 'none' : 'block';
        btnAnnual.style.display = annual ? 'block' : 'none';
      }

      toggle.addEventListener('change', updateUI);
      updateUI(); // iniziale
    });
  </script>
</body>
</html>
